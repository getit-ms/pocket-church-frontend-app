<ion-view>
    <ion-nav-title>
        <span translate>evento.inscricao</span>
    </ion-nav-title>
    <ion-content>
        <div class="item">
            <h2>
                {{evento.nome }}
            </h2>
        </div>
        <div class='item item-input' >
            <label class='input-label'>{{'evento.vagas_restantes' | translate}}</label>
            {{evento.vagasRestantes - inscricoes.length}}
        </div>
        
        <div ng-repeat="inscricao in inscricoes">
            <div class='item item-divider item-icon-right'>
                {{'evento.inscrito' | translate:{index:inscricoes.indexOf(inscricao) + 1} }}
                <a class="icon" ng-if='inscricoes.length > 1' ng-click='removeInscricao(inscricao)'>
                    <i class='fa fa-trash'></i>  
                </a>
            </div>
            
            <div class='item item-input' >
                <label class='input-label' >{{'evento.nome' | translate }}</label>
                <input type='text' ng-model='inscricao.nomeInscrito' />
            </div>
            <div class='item item-input' >
                <label class='input-label' >{{'evento.email' | translate }}</label>
                <input type='email' ng-model='inscricao.emailInscrito' />
            </div>
            <div class='item item-input' >
                <label class='input-label' >{{'evento.telefone' | translate }}</label>
                <input type='tel' telefone ng-model='inscricao.telefoneInscrito' />
            </div>
        </div>
        
        <div class='item' >
            <button class='button button-block button-positive icon ion-plus-circled' 
                    ng-if='inscricoes.length < evento.vagasRestantes' ng-click='addInscricao()'>
                {{'evento.adicionar_inscrito' | translate}}
            </button>
        </div>
        
        <div class='item item-divider' >
            {{'evento.concluir_inscricao' | translate}}
        </div>
        <div class='item item-input' >
            <label class='input-label'>{{'evento.total_inscricoes' | translate}}</label>
            {{inscricoes.length}}
        </div>
        <div class='item item-input' ng-if='evento.exigePagamento'>
            <label class='input-label'>{{'evento.valor_total' | translate}}</label>
            {{evento.valor * inscricoes.length | currency:'R$ '}}
        </div>
        <div class='item'>
            <button class='button button-block button-positive' ng-click='conclui()'>
                {{'evento.concluir_inscricao' | translate}}
            </button>
        </div>
    </ion-content>
</ion-view>