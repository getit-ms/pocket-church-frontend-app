<ion-view>
    <ion-nav-title>
        <span translate>preferencias.preferencias</span>
    </ion-nav-title>
    <ion-content>
        <form id="preferencias_form" name="preferencias_form" ng-submit="salvar(this.preferencias_form)" novalidate>
            <ion-toggle class="item-text-wrap" ng-model="preferencias.dadosDisponiveis"
                        ng-if='usuario && funcionalidades'>
                {{'preferencias.deseja_disponibilizar_dados' | translate}}
            </ion-toggle>
            <ion-toggle ng-model="preferencias.desejaReceberNotificacoesVideos" 
                        ng-if="funcionalidadesPublicas.indexOf('YOUTUBE') >= 0">
                {{'preferencias.deseja_receber_notificacoes_video' | translate}}
            </ion-toggle>
            <div class='item'><h1>{{'preferencias.versiculo_diario' | translate}}</h1></div>
            <ion-toggle ng-model="preferencias.desejaReceberVersiculosDiarios" >
                {{'preferencias.deseja_receber_versiculos' | translate}}
            </ion-toggle>
            <div ng-if='preferencias.desejaReceberVersiculosDiarios' class='item item-divider'>{{'preferencias.hora_versiculo' | translate}}</div>
            <ion-radio ng-if='preferencias.desejaReceberVersiculosDiarios' ng-repeat="hora in horasVersiculoDiario" 
                       ng-model="preferencias.horaVersiculoDiario" ng-value="hora">{{'preferencias.hora.' + hora | translate}}</ion-radio>
            <div ng-if="usuario && funcionalidades && funcionalidades.indexOf('CONSULTAR_PLANOS_LEITURA_BIBLICA') >= 0 && showLeitura">
                <div class='item'><h1>{{'preferencias.leitura_biblica' | translate}}</h1></div>
                <ion-toggle ng-model="preferencias.desejaReceberLembreteLeitura" >
                    {{'preferencias.deseja_receber_lembrete_leitura' | translate}}
                </ion-toggle>
                <div ng-if='preferencias.desejaReceberLembreteLeitura' class='item item-divider' >{{'preferencias.hora_lembrete_leitura' | translate}}</div>
                <ion-radio ng-if='preferencias.desejaReceberLembreteLeitura' ng-repeat="hora in horasLembreteLeitura" 
                           ng-model="preferencias.horaLembreteLeitura" ng-value="hora">{{'preferencias.hora.' + hora | translate}}</ion-radio>
            </div>
            <div class='item'><h1>{{'preferencias.ministerios_interesse' | translate}}</h1></div>
            <ion-toggle ng-if='ministerios.length' ng-checked="todosMinisterios" ng-click="toggleTodosMinisterios()" >
                {{'preferencias.todos_ministerios' | translate}}
            </ion-toggle>
            <ion-toggle ng-model="ministeriosSelecionados[min.id]" ng-change="verifyTodosMinisterios()" ng-repeat="min in ministerios" >
                {{min.nome}}
            </ion-toggle>
            <ion-item>
                <input type="submit" class='button button-block button-positive' value="{{'global.salvar' | translate}}" />
            </ion-item>
            <ion-item ng-if='usuario && funcionalidades'>
                <a ui-sref="alteraSenha" class='button button-block button-positive' >{{'login.alterar_senha' | translate}}</a>
            </ion-item>
        </form>
    </ion-content>
</ion-view>